@f{qw/C C# D D# E F F# G G# A A# H/}=0..11;($x,$y,$_)=@ARGV;$c=1;s%\|.(\d+),?|(.)(#?)(\d)\.(\d+),?%if($1){push@d,(128)x($x/$1-$i);$c=1}else{for($l=1;$s=($u=$c*sin($i*atan2(1,1)*8/$x*(int(0.48+1635.1598*2**(($f{$2}+!!$3)/12+$4))/100)))<0?-1:1,$i++<int($x/$5)||$s==$l;$l=$s){push@d,128+$y*$u}$c=$s}$i=1%ge;open F,"|base64";print F 'RIFF'.pack'La*LSSLLSSa*LC*',44+@d,'WAVEfmt ',16,1,1,$x,$x,1,8,'data',@d+0,@d